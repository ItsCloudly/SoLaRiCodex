import{createResource as i,untrack as o,sharedConfig as l}from"solid-js";import{isServer as u,getRequestEvent as w}from"solid-js/web";function d(r,n){let e,s=()=>!e||e.state==="unresolved"?void 0:e.latest;[e]=i(()=>f(r,o(s)),a=>a,n);const c=()=>e();return Object.defineProperty(c,"latest",{get(){return e.latest}}),c}class t{static all(){return new t}static allSettled(){return new t}static any(){return new t}static race(){return new t}static reject(){return new t}static resolve(){return new t}catch(){return new t}then(){return new t}finally(){return new t}}function f(r,n){if(u||!l.context)return r(n);const e=fetch,s=Promise;try{return window.fetch=()=>new t,Promise=t,r(n)}finally{window.fetch=e,Promise=s}}function p(r){const n=r.startsWith("/")?r:`/${r}`;if(!u)return n;const e=w();if(e){const c=new URL(e.request.url).origin;return new URL(n,c).toString()}return`http://localhost:${process.env.PORT??"3000"}${n}`}export{d as c,p as g};
