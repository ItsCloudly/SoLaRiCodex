import{ssrElement as k,escape as R,mergeProps as oe,ssr as b,isServer as A,getRequestEvent as C,renderToString as ae,renderToStream as ie,createComponent as p,delegateEvents as ce,ssrHydrationKey as x,useAssets as ue,NoHydration as Y,Hydration as le,ssrAttribute as H,HydrationScript as de}from"solid-js/web";import{lazy as pe,createComponent as he,sharedConfig as E,children as me,createMemo as D,getOwner as fe,untrack as ge,Show as Q,on as ye,createRoot as we,createSignal as be,onCleanup as F,Suspense as Re,catchError as ve,ErrorBoundary as Se}from"solid-js";import{provideRequestEvent as xe}from"solid-js/web/storage";import{H3Event as q,setResponseStatus as Ee,setHeader as $e,getRequestIP as Ae,getResponseStatus as Ce,getResponseStatusText as Te,getResponseHeader as ke,setResponseHeader as He,removeResponseHeader as Le,appendResponseHeader as Pe,getResponseHeaders as qe,getRequestURL as Ue,getRequestWebStream as Oe,sendRedirect as Ie,getCookie as De,setCookie as Fe,eventHandler as _e}from"h3";import{getContext as Ne}from"unctx";import{AsyncLocalStorage as Me}from"node:async_hooks";import{createRouter as je}from"radix3";import{c as Be,a as We,R as Ge,g as ze,b as Je,d as M,e as Ke,m as Ve,k as Ye,s as Qe,f as Xe,n as Ze}from"./assets/components-AfoJcVBO.js";function et(e){let t;const r=Z(e),s={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(r,{...s,body:e.node.req.body}):new Request(r,{...s,get body(){return t||(t=dt(e),t)}})}function tt(e){return e.web??={request:et(e),url:Z(e)},e.web.request}function rt(){return ft()}const X=Symbol("$HTTPEvent");function nt(e){return typeof e=="object"&&(e instanceof q||e?.[X]instanceof q||e?.__is_event__===!0)}function g(e){return function(...t){let r=t[0];if(nt(r))t[0]=r instanceof q||r.__is_event__?r:r[X];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(r=rt(),!r)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(r)}return e(...t)}}const Z=g(Ue),st=g(Ae),U=g(Ee),j=g(Ce),ot=g(Te),L=g(qe),B=g(ke),at=g(He),it=g(Pe),W=g(Ie),ct=g(De),ut=g(Fe),lt=g($e),dt=g(Oe),pt=g(Le),ht=g(tt);function mt(){return Ne("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:Me})}function ft(){return mt().use().event}const ee=[{page:!0,$component:{src:"src/routes/activity/index.tsx?pick=default&pick=$css",build:()=>import("./index.js"),import:()=>import("./index.js")},path:"/activity/",filePath:"C:/Users/AlexH/Documents/GitHub/SoLaRiCodex/src/routes/activity/index.tsx"},{page:!0,$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>import("./index2.js"),import:()=>import("./index2.js")},path:"/",filePath:"C:/Users/AlexH/Documents/GitHub/SoLaRiCodex/src/routes/index.tsx"},{page:!0,$component:{src:"src/routes/movies/index.tsx?pick=default&pick=$css",build:()=>import("./index3.js"),import:()=>import("./index3.js")},path:"/movies/",filePath:"C:/Users/AlexH/Documents/GitHub/SoLaRiCodex/src/routes/movies/index.tsx"},{page:!0,$component:{src:"src/routes/music/index.tsx?pick=default&pick=$css",build:()=>import("./index4.js"),import:()=>import("./index4.js")},path:"/music/",filePath:"C:/Users/AlexH/Documents/GitHub/SoLaRiCodex/src/routes/music/index.tsx"},{page:!0,$component:{src:"src/routes/search/index.tsx?pick=default&pick=$css",build:()=>import("./index5.js"),import:()=>import("./index5.js")},path:"/search/",filePath:"C:/Users/AlexH/Documents/GitHub/SoLaRiCodex/src/routes/search/index.tsx"},{page:!0,$component:{src:"src/routes/settings/index.tsx?pick=default&pick=$css",build:()=>import("./index6.js"),import:()=>import("./index6.js")},path:"/settings/",filePath:"C:/Users/AlexH/Documents/GitHub/SoLaRiCodex/src/routes/settings/index.tsx"},{page:!0,$component:{src:"src/routes/tv/index.tsx?pick=default&pick=$css",build:()=>import("./index7.js"),import:()=>import("./index7.js")},path:"/tv/",filePath:"C:/Users/AlexH/Documents/GitHub/SoLaRiCodex/src/routes/tv/index.tsx"}],gt=yt(ee.filter(e=>e.page));function yt(e){function t(r,s,n,o){const a=Object.values(r).find(i=>n.startsWith(i.id+"/"));return a?(t(a.children||(a.children=[]),s,n.slice(a.id.length)),r):(r.push({...s,id:n,path:n.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/")}),r)}return e.sort((r,s)=>r.path.length-s.path.length).reduce((r,s)=>t(r,s,s.path,s.path),[])}function wt(e,t){const r=Rt.lookup(e);if(r&&r.route){const s=r.route,n=t==="HEAD"?s.$HEAD||s.$GET:s[`$${t}`];if(n===void 0)return;const o=s.page===!0&&s.$component!==void 0;return{handler:n,params:r.params,isPage:o}}}function bt(e){return e.$HEAD||e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}const Rt=je({routes:ee.reduce((e,t)=>{if(!bt(t))return e;let r=t.path.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/").replace(/\*([^/]*)/g,(s,n)=>`**:${n}`).split("/").map(s=>s.startsWith(":")||s.startsWith("*")?s:encodeURIComponent(s)).join("/");if(/:[^/]*\?/g.test(r))throw new Error(`Optional parameters are not supported in API routes: ${r}`);if(e[r])throw new Error(`Duplicate API routes for "${r}" found at "${e[r].route.path}" and "${t.path}"`);return e[r]={route:t},e},{})}),P="solidFetchEvent";function vt(e){return{request:ht(e),response:Et(e),clientAddress:st(e),locals:{},nativeEvent:e}}function St(e){if(!e.context[P]){const t=vt(e);e.context[P]=t}return e.context[P]}class xt{event;constructor(t){this.event=t}get(t){const r=B(this.event,t);return Array.isArray(r)?r.join(", "):r||null}has(t){return this.get(t)!==null}set(t,r){return at(this.event,t,r)}delete(t){return pt(this.event,t)}append(t,r){it(this.event,t,r)}getSetCookie(){const t=B(this.event,"Set-Cookie");return Array.isArray(t)?t:[t]}forEach(t){return Object.entries(L(this.event)).forEach(([r,s])=>t(Array.isArray(s)?s.join(", "):s,r,this))}entries(){return Object.entries(L(this.event)).map(([t,r])=>[t,Array.isArray(r)?r.join(", "):r])[Symbol.iterator]()}keys(){return Object.keys(L(this.event))[Symbol.iterator]()}values(){return Object.values(L(this.event)).map(t=>Array.isArray(t)?t.join(", "):t)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function Et(e){return{get status(){return j(e)},set status(t){U(e,t)},get statusText(){return ot(e)},set statusText(t){U(e,j(e),t)},headers:new xt(e)}}function $t(e){e.forEach(t=>{if(!t.attrs.href)return;let r=document.head.querySelector(`link[href="${t.attrs.href}"]`);r||(r=document.createElement("link"),r.setAttribute("rel","preload"),r.setAttribute("as","style"),r.setAttribute("href",t.attrs.href),document.head.appendChild(r))})}var At=" ";const Ct={style:e=>k("style",e.attrs,()=>e.children,!0),link:e=>k("link",e.attrs,void 0,!0),script:e=>e.attrs.src?k("script",oe(()=>e.attrs,{get id(){return e.key}}),()=>b(At),!0):null,noscript:e=>k("noscript",e.attrs,()=>R(e.children),!0)};function O(e,t){let{tag:r,attrs:{key:s,...n}={key:void 0},children:o}=e;return Ct[r]({attrs:{...n,nonce:t},key:s,children:o})}function Tt(e,t,r,s="default"){return pe(async()=>{{const o=(await e.import())[s],i=(await t.inputs?.[e.src].assets()).filter(l=>l.tag==="style"||l.attrs.rel==="stylesheet");return typeof window<"u"&&$t(i),{default:l=>[...i.map(y=>O(y)),he(o,l)]}}})}function te(){function e(r){return{...r,...r.$$route?r.$$route.require().route:void 0,info:{...r.$$route?r.$$route.require().route.info:{},filesystem:!0},component:r.$component&&Tt(r.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:r.children?r.children.map(e):void 0}}return gt.map(e)}let G;const kt=A?()=>C().routes:()=>G||(G=te());function Ht(e){const t=ct(e.nativeEvent,"flash");if(t)try{let r=JSON.parse(t);if(!r||!r.result)return;const s=[...r.input.slice(0,-1),new Map(r.input[r.input.length-1])],n=r.error?new Error(r.result):r.result;return{input:s,url:r.url,pending:!1,result:r.thrown?void 0:n,error:r.thrown?n:void 0}}catch(r){console.error(r)}finally{ut(e.nativeEvent,"flash","",{maxAge:0})}}async function Lt(e){const t=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,e.response.headers.set("Content-Type","text/html"),Object.assign(e,{manifest:await t.json(),assets:[...await t.inputs[t.handler].assets()],router:{submission:Ht(e)},routes:te(),complete:!1,$islands:new Set})}const Pt=new Set([301,302,303,307,308]);function I(e){return e.status&&Pt.has(e.status)?e.status:302}function qt(e,t,r={},s){return _e({handler:n=>{const o=St(n);return xe(o,async()=>{const a=wt(new URL(o.request.url).pathname,o.request.method);if(a){const m=await a.handler.import(),w=o.request.method==="HEAD"?m.HEAD||m.GET:m[o.request.method];o.params=a.params||{},E.context={event:o};const c=await w(o);if(c!==void 0)return c;if(o.request.method!=="GET")throw new Error(`API handler for ${o.request.method} "${o.request.url}" did not return a response.`);if(!a.isPage)return}const i=await t(o),u=typeof r=="function"?await r(i):{...r},l=u.mode||"stream";if(u.nonce&&(i.nonce=u.nonce),l==="sync"){const m=ae(()=>(E.context.event=i,e(i)),u);if(i.complete=!0,i.response&&i.response.headers.get("Location")){const w=I(i.response);return W(n,i.response.headers.get("Location"),w)}return m}if(u.onCompleteAll){const m=u.onCompleteAll;u.onCompleteAll=w=>{J(i)(w),m(w)}}else u.onCompleteAll=J(i);if(u.onCompleteShell){const m=u.onCompleteShell;u.onCompleteShell=w=>{z(i,n)(),m(w)}}else u.onCompleteShell=z(i,n);const y=ie(()=>(E.context.event=i,e(i)),u);if(i.response&&i.response.headers.get("Location")){const m=I(i.response);return W(n,i.response.headers.get("Location"),m)}if(l==="async")return y;const{writable:S,readable:v}=new TransformStream;return y.pipeTo(S),v})}})}function z(e,t){return()=>{if(e.response&&e.response.headers.get("Location")){const r=I(e.response);U(t,r),lt(t,"Location",e.response.headers.get("Location"))}}}function J(e){return({write:t})=>{e.complete=!0;const r=e.response&&e.response.headers.get("Location");r&&t(`<script>window.location="${r}"<\/script>`)}}function Ut(e,t,r){return qt(e,Lt,t)}const re=e=>t=>{const{base:r}=t,s=me(()=>t.children),n=D(()=>Be(s(),t.base||""));let o;const a=We(e,n,()=>o,{base:r,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(a),p(Ge.Provider,{value:a,get children(){return p(Ot,{routerState:a,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[(o=fe())&&null,p(It,{routerState:a,get branches(){return n()}})]}})}})};function Ot(e){const t=e.routerState.location,r=e.routerState.params,s=D(()=>e.preload&&ge(()=>{e.preload({params:r,location:t,intent:ze()||"initial"})}));return p(Q,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:n=>p(n,{params:r,location:t,get data(){return s()},get children(){return e.children}})})}function It(e){if(A){const n=C();if(n&&n.router&&n.router.dataOnly){Dt(n,e.routerState,e.branches);return}n&&((n.router||(n.router={})).matches||(n.router.matches=e.routerState.matches().map(({route:o,path:a,params:i})=>({path:o.originalPath,pattern:o.pattern,match:a,params:i,info:o.info}))))}const t=[];let r;const s=D(ye(e.routerState.matches,(n,o,a)=>{let i=o&&n.length===o.length;const u=[];for(let l=0,y=n.length;l<y;l++){const S=o&&o[l],v=n[l];a&&S&&v.route.key===S.route.key?u[l]=a[l]:(i=!1,t[l]&&t[l](),we(m=>{t[l]=m,u[l]=Je(e.routerState,u[l-1]||e.routerState.base,K(()=>s()[l+1]),()=>e.routerState.matches()[l])}))}return t.splice(n.length).forEach(l=>l()),a&&i?a:(r=u[0],u)}));return K(()=>s()&&r)()}const K=e=>()=>p(Q,{get when(){return e()},keyed:!0,children:t=>p(Ke.Provider,{value:t,get children(){return t.outlet()}})});function Dt(e,t,r){const s=new URL(e.request.url),n=M(r,new URL(e.router.previousUrl||e.request.url).pathname),o=M(r,s.pathname);for(let a=0;a<o.length;a++){(!n[a]||o[a].route!==n[a].route)&&(e.router.dataOnly=!0);const{route:i,params:u}=o[a];i.preload&&i.preload({params:u,location:t.location,intent:"preload"})}}function Ft([e,t],r,s){return[e,s?n=>t(s(n)):t]}function _t(e){let t=!1;const r=n=>typeof n=="string"?{value:n}:n,s=Ft(be(r(e.get()),{equals:(n,o)=>n.value===o.value&&n.state===o.state}),void 0,n=>(!t&&e.set(n),E.registry&&!E.done&&(E.done=!0),n));return e.init&&F(e.init((n=e.get())=>{t=!0,s[1](r(n)),t=!1})),re({signal:s,create:e.create,utils:e.utils})}function Nt(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function Mt(e,t){const r=e&&document.getElementById(e);r?r.scrollIntoView():t&&window.scrollTo(0,0)}function jt(e){const t=new URL(e);return t.pathname+t.search}function Bt(e){let t;const r={value:e.url||(t=C())&&jt(t.request.url)||""};return re({signal:[()=>r,s=>Object.assign(r,s)]})(e)}const Wt=new Map;function Gt(e=!0,t=!1,r="/_server",s){return n=>{const o=n.base.path(),a=n.navigatorFactory(n.base);let i,u;function l(c){return c.namespaceURI==="http://www.w3.org/2000/svg"}function y(c){if(c.defaultPrevented||c.button!==0||c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)return;const d=c.composedPath().find(N=>N instanceof Node&&N.nodeName.toUpperCase()==="A");if(!d||t&&!d.hasAttribute("link"))return;const f=l(d),h=f?d.href.baseVal:d.href;if((f?d.target.baseVal:d.target)||!h&&!d.hasAttribute("state"))return;const $=(d.getAttribute("rel")||"").split(/\s+/);if(d.hasAttribute("download")||$&&$.includes("external"))return;const T=f?new URL(h,document.baseURI):new URL(h);if(!(T.origin!==window.location.origin||o&&T.pathname&&!T.pathname.toLowerCase().startsWith(o.toLowerCase())))return[d,T]}function S(c){const d=y(c);if(!d)return;const[f,h]=d,_=n.parsePath(h.pathname+h.search+h.hash),$=f.getAttribute("state");c.preventDefault(),a(_,{resolve:!1,replace:f.hasAttribute("replace"),scroll:!f.hasAttribute("noscroll"),state:$?JSON.parse($):void 0})}function v(c){const d=y(c);if(!d)return;const[f,h]=d;s&&(h.pathname=s(h.pathname)),n.preloadRoute(h,f.getAttribute("preload")!=="false")}function m(c){clearTimeout(i);const d=y(c);if(!d)return u=null;const[f,h]=d;u!==f&&(s&&(h.pathname=s(h.pathname)),i=setTimeout(()=>{n.preloadRoute(h,f.getAttribute("preload")!=="false"),u=f},20))}function w(c){if(c.defaultPrevented)return;let d=c.submitter&&c.submitter.hasAttribute("formaction")?c.submitter.getAttribute("formaction"):c.target.getAttribute("action");if(!d)return;if(!d.startsWith("https://action/")){const h=new URL(d,Ve);if(d=n.parsePath(h.pathname+h.search),!d.startsWith(r))return}if(c.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const f=Wt.get(d);if(f){c.preventDefault();const h=new FormData(c.target,c.submitter);f.call({r:n,f:c.target},c.target.enctype==="multipart/form-data"?h:new URLSearchParams(h))}}ce(["click","submit"]),document.addEventListener("click",S),e&&(document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("focusin",v,{passive:!0}),document.addEventListener("touchstart",v,{passive:!0})),document.addEventListener("submit",w),F(()=>{document.removeEventListener("click",S),e&&(document.removeEventListener("mousemove",m),document.removeEventListener("focusin",v),document.removeEventListener("touchstart",v)),document.removeEventListener("submit",w)})}}function zt(e){if(A)return Bt(e);const t=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,n=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:n}},r=Xe();return _t({get:t,set({value:s,replace:n,scroll:o,state:a}){n?window.history.replaceState(Ye(a),"",s):window.history.pushState(a,"",s),Mt(decodeURIComponent(window.location.hash.slice(1)),o),Qe()},init:s=>Nt(window,"popstate",Ze(s,n=>{if(n&&n<0)return!r.confirm(n);{const o=t();return!r.confirm(o.value,{state:o.state})}})),create:Gt(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:r}})(e)}function Jt(){return p(zt,{root:e=>p(Re,{get children(){return e.children}}),get children(){return p(kt,{})}})}const ne=A?e=>{const t=C();return t.response.status=e.code,t.response.statusText=e.text,F(()=>!t.nativeEvent.handled&&!t.complete&&(t.response.status=200)),null}:e=>null;var Kt=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">',"</span>"],Vt=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">500 | Internal Server Error</span>'];const Yt=e=>{const t=A?"500 | Internal Server Error":"Error | Uncaught Client Exception";return p(Se,{fallback:r=>(console.error(r),[b(Kt,x(),R(t)),p(ne,{code:500})]),get children(){return e.children}})},Qt=e=>{let t=!1;const r=ve(()=>e.children,s=>{console.error(s),t=!!s});return t?[b(Vt,x()),p(ne,{code:500})]:r};var V=["<script",">","<\/script>"],Xt=["<script",' type="module"'," async","><\/script>"],Zt=["<script",' type="module" async',"><\/script>"];const er=b("<!DOCTYPE html>");function se(e,t,r=[]){for(let s=0;s<t.length;s++){const n=t[s];if(n.path!==e[0].path)continue;let o=[...r,n];if(n.children){const a=e.slice(1);if(a.length===0||(o=se(a,n.children,o),!o))continue}return o}}function tr(e){const t=C(),r=t.nonce;let s=[];return Promise.resolve().then(async()=>{let n=[];if(t.router&&t.router.matches){const o=[...t.router.matches];for(;o.length&&(!o[0].info||!o[0].info.filesystem);)o.shift();const a=o.length&&se(o,t.routes);if(a){const i=globalThis.MANIFEST.client.inputs;for(let u=0;u<a.length;u++){const l=a[u],y=i[l.$component.src];n.push(y.assets())}}}s=await Promise.all(n).then(o=>[...new Map(o.flat().map(a=>[a.attrs.key,a])).values()].filter(a=>a.attrs.rel==="modulepreload"&&!t.assets.find(i=>i.attrs.key===a.attrs.key)))}),ue(()=>s.length?s.map(n=>O(n)):void 0),p(Y,{get children(){return[er,p(Qt,{get children(){return p(e.document,{get assets(){return[p(de,{}),t.assets.map(n=>O(n,r))]},get scripts(){return r?[b(V,x()+H("nonce",R(r,!0),!1),`window.manifest = ${JSON.stringify(t.manifest)}`),b(Xt,x(),H("nonce",R(r,!0),!1),H("src",R(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]:[b(V,x(),`window.manifest = ${JSON.stringify(t.manifest)}`),b(Zt,x(),H("src",R(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]},get children(){return p(le,{get children(){return p(Yt,{get children(){return p(Jt,{})}})}})}})}})]}})}var rr=['<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&amp;family=JetBrains+Mono:wght@400;500;600&amp;family=Space+Grotesk:wght@400;500;600;700&amp;display=swap" rel="stylesheet">',"</head>"],nr=["<html",' lang="en">','<body><div id="app">',"</div><!--$-->","<!--/--></body></html>"];const pr=Ut(()=>p(tr,{document:({assets:e,children:t,scripts:r})=>b(nr,x(),p(Y,{get children(){return b(rr,R(e))}}),R(t),R(r))}));export{pr as default};
